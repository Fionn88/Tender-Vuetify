{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.trim.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      bankCode: \"\",\n      bankAccount: \"\",\n      bankName: \"\",\n      bankCurrecy: \"\",\n      branchName: \"\",\n      bankAmount: \"\",\n      tenderAmount: \"\",\n      rules: [function (value) {\n        return !!value || 'Required.';\n      }],\n      amountRules: [function (value) {\n        return !!value || 'Required.';\n      }, function (value) {\n        return value <= Number(_this.tenderAmount);\n      }]\n    };\n  },\n  methods: {\n    addCertificate: function addCertificate() {\n      var newCertificate = {\n        id: Date.now() + this.$route.query.id + this.bankCode + this.bankAccount,\n        code: this.bankCode,\n        account: this.bankAccount,\n        name: this.bankName,\n        accountCurrecy: this.bankCurrecy,\n        branchName: this.branchName,\n        amount: this.bankAmount,\n        tendersID: this.$route.query.id\n      };\n      this.$store.commit(\"addCertificate\", newCertificate);\n      this.$emit('close');\n    }\n  },\n  mounted: function mounted() {\n    this.tenderAmount = parseFloat(this.$route.query.amount.replace(/,/g, \"\"));\n  },\n  computed: {\n    inputInvaild: function inputInvaild() {\n      return this.bankCode.trim() === \"\" || this.bankAccount.trim() === \"\" || this.bankName.trim() === \"\" || this.bankCurrecy.trim() === \"\" || this.branchName.trim() === \"\" || this.bankAmount.trim() === \"\" || Number(this.bankAmount) > Number(this.tenderAmount); // return Number(this.bankAmountChange) < 0 || Number(this.bankAmountChange) > Number(this.tenderAmountChange)\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACAA,MADA,kBACA;AAAA;;AACA;AACAC,kBADA;AAEAC,qBAFA;AAGAC,kBAHA;AAIAC,qBAJA;AAKAC,oBALA;AAMAC,oBANA;AAOAC,sBAPA;AAQAC,cACA;AAAA;AAAA,OADA,CARA;AAWAC,oBACA;AAAA;AAAA,OADA,EAEA;AAAA;AAAA,OAFA;AAXA;AAgBA,GAlBA;AAmBAC;AACAC,kBADA,4BACA;AACA;AACAC,YACAC,oEAFA;AAGAC,2BAHA;AAIAC,iCAJA;AAKAC,2BALA;AAMAC,wCANA;AAOAZ,mCAPA;AAQAa,+BARA;AASAC;AATA;AAYA;AACA;AACA;AAhBA,GAnBA;AAqCAC,SArCA,qBAqCA;AACA;AACA,GAvCA;AAwCAC;AAEAC,gBAFA,0BAEA;AAEA,4CACA,8BADA,IAEA,2BAFA,IAGA,8BAHA,IAIA,6BAJA,IAKA,6BALA,IAMAC,mDANA,CAFA,CAaA;AACA;AAhBA;AAxCA","names":["data","bankCode","bankAccount","bankName","bankCurrecy","branchName","bankAmount","tenderAmount","rules","amountRules","methods","addCertificate","id","Date","code","account","name","accountCurrecy","amount","tendersID","mounted","computed","inputInvaild","Number"],"sourceRoot":"src/components/TenderDetail/Dialog","sources":["DialogCreateCertificate.vue"],"sourcesContent":["<template>\n  <v-row justify=\"center\">\n    <v-dialog :value=\"true\" persistent max-width=\"600px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">創建憑證</span>\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-select\n                  v-model=\"bankCode\"\n                  :items=\"$store.state.banks\"\n                  label=\"銀行代碼*\"\n                  required\n                  :rules=\"rules\"\n                  \n                ></v-select>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-text-field\n                  v-model=\"bankAccount\"\n                  label=\"銀行帳號*\"\n                  hint=\"72289967984\"\n                  persistent-hint\n                  required\n                 :rules=\"rules\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-text-field\n                  v-model=\"bankName\"\n                  label=\"戶名*\"\n                  hint=\"王小明\"\n                  persistent-hint\n                  required\n                  :rules=\"rules\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\" sm=\"6\">\n                <v-select\n                  v-model=\"bankCurrecy\"\n                  :items=\"$store.state.accountCurrecy\"\n                  label=\"帳戶別*\"\n                  required\n                  :rules=\"rules\"\n                ></v-select>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-text-field\n                  v-model=\"branchName\"\n                  label=\"分行別*\"\n                  hint=\"承德分行\"\n                  persistent-hint\n                  required\n                  :rules=\"rules\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-text-field\n                  v-model=\"bankAmount\"\n                  label=\"設定金額*\"\n                  required\n                  type=\"number\"\n                  min=\"1\"\n                  max=$this.tenderAmount\n                  :rules=\"rules\"\n                  \n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-container>\n          <small>*indicates required field</small>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"$emit('close')\">\n            Close\n          </v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"addCertificate\" :disabled=\"inputInvaild\">\n            Save\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      bankCode: \"\",\n      bankAccount: \"\",\n      bankName: \"\",\n      bankCurrecy: \"\",\n      branchName: \"\",\n      bankAmount: \"\",\n      tenderAmount: \"\",\n      rules: [\n        value => !!value || 'Required.',\n      ],\n      amountRules:[\n        value => !!value || 'Required.',\n        value => value <= Number(this.tenderAmount)\n      ]\n    };\n  },\n  methods: {\n    addCertificate() {\n      let newCertificate = {\n        id:\n          Date.now() + this.$route.query.id + this.bankCode + this.bankAccount,\n        code: this.bankCode,\n        account: this.bankAccount,\n        name: this.bankName,\n        accountCurrecy: this.bankCurrecy,\n        branchName: this.branchName,\n        amount: this.bankAmount,\n        tendersID: this.$route.query.id,\n      };\n      \n      this.$store.commit(\"addCertificate\", newCertificate);\n      this.$emit('close')\n    },\n  },\n  mounted(){\n    this.tenderAmount = parseFloat(this.$route.query.amount.replace(/,/g, \"\"))\n  },\n  computed: {\n    \n    inputInvaild() {\n      \n      return this.bankCode.trim() === \"\" || \n      this.bankAccount.trim() === \"\" || \n      this.bankName.trim() === \"\" || \n      this.bankCurrecy.trim() === \"\" || \n      this.branchName.trim() === \"\" || \n      this.bankAmount.trim() === \"\" ||\n       Number(this.bankAmount) > Number(this.tenderAmount)\n      \n\n\n\n      // return Number(this.bankAmountChange) < 0 || Number(this.bankAmountChange) > Number(this.tenderAmountChange)\n    }\n  },\n};\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module"}